(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const g="https://pokeapi.co/api/v2/pokemon",w=async()=>{try{const t=await fetch(`${g}?limit=1000`);if(!t.ok)throw new Error(`Fetch failed: ${t.status}`);return{data:(await t.json()).results.map(r=>{const e=r.url.split("/").filter(Boolean).pop();return{name:r.name,id:e}}),error:null}}catch(t){return console.warn("Error fetching Pokémon list:",t),{data:null,error:t}}},y=async t=>{try{const n=await fetch(`${g}/${t}`);if(!n.ok)throw new Error(`Fetch failed: ${n.status}`);return{data:await n.json(),error:null}}catch(n){return console.warn("Error fetching Pokémon details:",n),{data:null,error:n}}};let d=[],c=JSON.parse(localStorage.getItem("favorites"))||[];function P(t){const n=document.getElementById("single-item-container");n.innerHTML="";const i=document.createElement("li");i.classList.add("card");const r=document.createElement("h2");r.textContent=t.name;const e=document.createElement("img");e.src=t.sprites.front_default,e.alt=t.name;const o=document.createElement("p");o.textContent=`Height: ${t.height}`;const s=document.createElement("p");s.textContent=`Weight: ${t.weight}`,i.append(r,e,o,s),n.appendChild(i)}const p=t=>{const n=document.getElementById("pokemon-list");n.innerHTML="",t.forEach(i=>{const r=document.createElement("li");r.classList.add("pokemon-item"),r.dataset.id=i.id;const e=document.createElement("div");e.classList.add("card-image");const o=document.createElement("img");o.src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${i.id}.png`,o.alt=i.name,e.appendChild(o);const s=document.createElement("h3");s.textContent=i.name;const a=document.createElement("button");a.textContent="⭐",a.classList.add("fav-btn"),a.addEventListener("click",L=>{L.stopPropagation(),c.find(l=>l.id===i.id)||(c.push(i),localStorage.setItem("favorites",JSON.stringify(c)),v()),c.find(l=>l.id===i.id)&&(a.style.opacity="0.5")}),r.append(e,s,a),n.appendChild(r)})},m=document.getElementById("view-favorites-btn"),u=document.getElementById("back-to-pokedex-btn"),h=document.getElementById("favorites-section"),E=document.getElementById("all-pokemon-section"),f=document.getElementById("favorites-list"),I=document.getElementById("favorites-detail");function v(){f.innerHTML="",c.forEach(t=>{const n=document.createElement("li");n.innerHTML=`
  <div style="display:flex; align-items:center; gap:10px;">
    <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${t.id}.png" width="40" />
    <span>${t.name}</span>
  </div>
`,n.addEventListener("click",async()=>{const i=await y(t.id);if(i.error)return console.warn(i.error);k(i.data)}),f.appendChild(n)})}function k(t){I.innerHTML=`
        <h2>${t.name}</h2>
        <p>ID: ${t.id}</p>
        <p>Level: ${t.level||"N/A"}</p>
         <img src="${t.sprites.other["official-artwork"].front_default}" width="200"/>
    <p><strong>Type:</strong> ${t.types.map(n=>n.type.name).join(", ")}</p>
    `}m.addEventListener("click",()=>{E.style.display="none",h.style.display="grid",m.style.display="none",u.style.display="inline-block",v()});u.addEventListener("click",()=>{h.style.display="none",E.style.display="block",m.style.display="inline-block",u.style.display="none"});document.addEventListener("DOMContentLoaded",async()=>{const t=document.getElementById("pokemon-list"),n=document.getElementById("pokemon-search");t.addEventListener("click",async r=>{const e=r.target.closest(".pokemon-item");if(!e)return;const o=e.dataset.id,s=await y(o);if(s.error)return console.warn(s.error);P(s.data)});async function i(){try{const r=await w();if(r.error){console.warn(r.error);return}d=r.data,p(d)}catch(r){console.error("Error fetching Pokémon:",r)}}i(),n.addEventListener("input",r=>{const e=r.target.value.toLowerCase(),o=d.filter(s=>s.name.toLowerCase().includes(e));p(o)})});
